#!/usr/bin/env bash

git_do(){ git "${o[@]}" "$@"; }

up(){
   git_do commit -am "$changes"
   git_do push -u origin master
}

case_opts(){
   case $1 in 
      up) up ;;
      *) git_do "$@"
   esac
}

get_status(){
   commit_status=$(git ${o[@]} commit --status --short)
   changes=$(git ${o[@]} status --porcelain)
}

main(){
   o=(--git-dir=$HOME/.dotfiles/ --work-tree=$HOME)
   get_status
   case_opts "$@"
}

main "$@"

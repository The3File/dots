#!/usr/bin/env bash

main(){
   case $1 in 
      up)
         git "${o[@]}" commit -am "$changes"
         git "${o[@]}" push -u origin master
      ;;
      *) git "${o[@]}" $@
   esac
}

o=(--git-dir=$HOME/.dotfiles/ --work-tree=$HOME)

changes=$(git ${o[@]} status --porcelain)
main $1

#!/usr/bin/env bash

bash_script(){ 
   printf '%s\n\n%s\n\n%s' "#!/usr/bin/env bash"\
      "main(){<++>}" "main \"\$@\"" > "$n"
   chmod a+x "$n"; nvim "$n"
}

possix_script(){ 
   printf '%s\n\n%s' "#!/bin/sh" "<++>" > "$n"
   chmod a+x "$n"; nvim "$n"
}

main(){
   read -rp $'\r\e[K'"name: " n || exit 0
   a="$1"
   case "$a" in
      bash) bash_script ;;
      sh) possix_script ;;
      *) exit 1
   esac
}

main "$@"

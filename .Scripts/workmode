#!/usr/bin/env bash

on() {
   theme="base16-isotope"

   wal --theme $theme &>/dev/null

   source /home/ringdal/.cache/wal/colors.sh

   ln -sf "$HOME/.cache/wal/dunstrc" "$HOME/.config/dunst/dunstrc" &
   #xsetroot -solid "$background"
   feh --bg-fill $HOME/Billeder/wallpapers/arch/black_arch.png &

   pkill dunst && dunst &>/dev/null & disown
   pkill compton; ukill dunstbar; ukill autogap

   for i in {1..10}; do
      bspc config -d $i left_padding 0
      bspc config -d $i right_padding 0
      #bsp-layout set tall $i
   done

   bspc config initial_polarity first_child
   bspc config automatic_scheme alternate
   runbar -b & disown

   bspc config split_ratio 0.6
   bspc config window_gap 0
   bspc config border_width 1

   $CONFIG qute
}

off() {
   ukill runbar
   pkill lemonbar

   bspc config top_padding 0
   bspc config bottom_padding 0

   chwal -r

   "$CONFIG" &>/dev/null
   sleep .1
   echo > "$GAPFIFO" &
}

main(){ case $1 in on) on ;; off) off; esac; }

main "$@"
